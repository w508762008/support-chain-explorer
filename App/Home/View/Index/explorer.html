<include file="common/headr" />

<body>
	<include file="common/nav" />

  <div id="admin_accounts" style="display: none" data=""></div>

  

  <div id="content" class="p-3 w-100 mx-auto mw-75" style="max-width: 1120px">

    <div id="alert"><!----></div>
  <div id="search" class="card mb-3">
  <div class="card-body">
  
	<div role="group" class="input-group">
	<input id="query" type="text" required="required" placeholder="Example query: &#39;19&#39; for root block 19; &#39;3/10&#39; for shard block 10 on shard 3; or search address / block id / tx id" aria-required="true" value="<{$keys}>" class="form-control">
	<div class="input-group-append submit"><button id="search_button" type="button" class="btn btn-primary">Search</button></div>
	</div>
 
  </div>
  </div>

<script>
window.onload = function () { 
	$('#query').bind('keyup', function(event) {
        if (event.keyCode == "13") {
            //回车执行查询
            $('#search_button').click();
        }
    });
 
	$('.submit').click(function(){
		var info = $("#query").val();
		$.post("<{:U('Index/query')}>",{data:info},function(rr){
			var r = rr.list;
			if(rr.type == 1){
				var str = '<div class="row"><div class="col-sm-3">Name: </div><div class="col-sm-9"><a href="'+r.url+'">'+r.name+'</a></div></div><div class="row"><div class="col-sm-3">Created Time: </div> <div class="col-sm-9"><a href="javascript:void(0);">'+r.createdTimes+'</a></div></div>';
					$('.container').html(str);
					$('.titles').html('Accounts');
			}else if(rr.type == 2){
				var str = '<div class="row"><div class="col-sm-3">Transaction ID: </div><div class="col-sm-9"><a href="'+r.url+'">'+r.transaction_id+'</a></div></div><div class="row"><div class="col-sm-3">Transaction Index: </div> <div class="col-sm-9"><a style="display:none;" href="javascript:void(0);"> &lt; prev</a> '+r.transaction_index+'<a  style="display:none;" href="/block/0/'+(r.block_num-1)+'">next &gt;</a></div></div><div class="row"><div class="col-sm-3">Block ID: </div> <div class="col-sm-9"><a href="javascript:void(0);">'+r.block_id+'</a></div></div><div class="row"><div class="col-sm-3">Expiration: </div> <div class="col-sm-9">'+r.expiration+'</div></div>';
					$('.container').html(str);
					$('.titles').html('Transactions');
			}else if(rr.type == 3){
				if(r.block_id){
					var str = '<div class="row"><div class="col-sm-3">ID: </div><div class="col-sm-9"><a href="javascript:void(0);">'+r.block_id+'</a></div></div><div class="row"><div class="col-sm-3">Height: </div> <div class="col-sm-9"><a style="display:none;" href="javascript:void(0);"> &lt; prev</a> '+r.block_num+'<a  style="display:none;" href="/block/0/'+(r.block_num-1)+'">next &gt;</a></div></div><div class="row"><div class="col-sm-3">Parent ID: </div> <div class="col-sm-9"><a href="javascript:void(0);">'+r.prev_block_id+'</a></div></div><div class="row"><div class="col-sm-3">Timestamp: </div> <div class="col-sm-9">'+r.timestamps+' </div></div><div class="row"><div class="col-sm-3">Builder: </div> <div class="col-sm-9"><a href="javascript:void(0);">'+r.builder_account_name+'</a></div></div><div class="row"><div class="col-sm-3">Transaction Merkle Root: </div> <div class="col-sm-9">'+r.transaction_merkle_root+'</div></div>';
					$('.container').html(str)
				}else{
					var str = '<div class="row" style="color:#856404;background-color:#fff3cd;border-color:#ffeeba;line-height:36px;"><div class="col-sm-12">Nothing is found for your query</div></div>';
					$('.container').html(str)
				}
				$('.titles').html('Block');
			}
		  },'json');
	})
	$('.navbar-nav').find("a").removeClass('active');
	$('.navbar-nav li').eq(0).find("a").addClass('active');
 }
</script>




<div id="data" style="display: none" data="{&quot;type&quot;: &quot;init&quot;}"></div>

	<div id="block">
		<div class="card key-value-box">
			<div class="card-body"><h4 class="card-title titles">Block</h4><hr>
				<div class="container">
					<notempty name="data">
						<div class="row"><div class="col-sm-3">ID: </div><div class="col-sm-9"><a href="javascript:void(0);"><{$data.block_id}></a></div></div>
						<div class="row"><div class="col-sm-3">Height: </div> <div class="col-sm-9"><a style="display:none;" href="javascript:void(0);"> &lt; prev</a> <{$data.block_num}><a  style="display:none;" href="/block/0/'+(r.block_num-1)+'">next &gt;</a></div></div>
						<div class="row"><div class="col-sm-3">Parent ID: </div> <div class="col-sm-9"><a href="/block/<{$data.prev_block_id}>"><{$data.prev_block_id}></a></div></div>
						<div class="row"><div class="col-sm-3">Timestamp: </div> <div class="col-sm-9"><{$data.timestamps}> </div></div>
						<div class="row"><div class="col-sm-3">Builder: </div> <div class="col-sm-9"><a href="/address/<{$data.builder_account_name}>"><{$data.builder_account_name}></a></div></div>
						<div class="row"><div class="col-sm-3">Transaction Merkle Root: </div> <div class="col-sm-9"><{$data.transaction_merkle_root}></div></div>
					</notempty>
				</div>
			</div>
		</div>
	</div>

  </div>



</body></html>