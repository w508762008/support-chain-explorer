<include file="common/headr" />

<body>
	<include file="common/nav" />

  <div id="admin_accounts" style="display: none" data=""></div>

  

  <div id="content" class="p-3 w-100 mx-auto mw-75" style="max-width: 1220px">

    <div id="alert"><!----></div>
  <div id="search" class="card mb-3" style="display:none;">
  <div class="card-body">
  <form>
	<div role="group" class="input-group">
	<input id="query" type="text" required="required" placeholder="Example query: &#39;19&#39; for root block 19; &#39;3/10&#39; for shard block 10 on shard 3; or search address / block id / tx id" aria-required="true" value="<{$keys}>" class="form-control">
	<div class="input-group-append submit"><button type="button" class="btn btn-primary">Search</button></div>
	</div>
  </form>
  </div>
  </div>

<script>
 $(function(){
	$('.submit').click(function(){
		var info = $("#query").val();
		$.post("<{:U('Index/query')}>",{data:info},function(r){
			
			if(r.block_id){
				var str = '<div class="row"><div class="col-sm-3">ID: </div><div class="col-sm-9"><a href="javascript:void(0);">'+r.block_id+'</a></div></div><div class="row"><div class="col-sm-3">Height: </div> <div class="col-sm-9"><a style="display:none;" href="javascript:void(0);"> &lt; prev</a> '+r.block_num+'<a  style="display:none;" href="/block/0/'+(r.block_num-1)+'">next &gt;</a></div></div><div class="row"><div class="col-sm-3">Parent ID: </div> <div class="col-sm-9"><a href="/block/'+r.prev_block_id+'">'+r.prev_block_id+'</a></div></div><div class="row"><div class="col-sm-3">Timestamp: </div> <div class="col-sm-9">'+r.timestamps+' </div></div><div class="row"><div class="col-sm-3">builder: </div> <div class="col-sm-9"><a href="/address/'+r.builder_account_name+'">'+r.builder_account_name+'</a></div></div><div class="row"><div class="col-sm-3">transaction_merkle_root: </div> <div class="col-sm-9">'+r.transaction_merkle_root+'</div></div>';
				$('.container').html(str)
			}else{
				var str = '<div class="row" style="color:#856404;background-color:#fff3cd;border-color:#ffeeba;line-height:36px;"><div class="col-sm-12">Nothing is found for your query</div></div>';
				$('.container').html(str)
			}
		  },'json');
	})
	
	$('.navbar-nav').find("a").removeClass('active');
	$('.navbar-nav li').eq(3).find("a").addClass('active');
 })
</script>




<div id="data" style="display: none" data="{&quot;type&quot;: &quot;init&quot;}"></div>

	
	<div id="block">
		<div class="card key-value-box">
			<div class="card-body"><h4 class="card-title">Transactions</h4><hr>
				<div class="container">
					<notempty name="data">
						<div class="row"><div class="col-sm-3">transaction_id: </div><div class="col-sm-9"><a href="javascript:void(0);"><{$data.transaction_id}></a></div></div>
						<div class="row"><div class="col-sm-3">builder: </div> <div class="col-sm-9"><a style="display:none;" href="javascript:void(0);"> &lt; prev</a> <{$data.authorization.0.account}><a  style="display:none;" href="/block/0/'+(r.block_num-1)+'">next &gt;</a></div></div>
						<div class="row"><div class="col-sm-3">handler_account_name: </div> <div class="col-sm-9"><{$data.handler_account_name}></div></div>
						<div class="row"><div class="col-sm-3">type: </div> <div class="col-sm-9"><{$data.type}> </div></div>
						<div class="row"><div class="col-sm-3">createdTime: </div> <div class="col-sm-9"><{$data.createdTimes}></div></div>
						<notempty name="datas">
							<{$datas}>
						</notempty>
					</notempty>
				</div>
			</div>
		</div>
	</div>
	

  </div>



</body></html>